cmake_minimum_required(VERSION 2.6)
add_definitions("-std=c++11")

project(tests)
find_package(Threads)
include_directories(../gtest/include)
link_directories(../gtest)
set(CMAKE_MODULE_PATH "." ${CMAKE_MODULE_PATH})
find_package(SFML 2.1.0 REQUIRED system window graphics network audio)
include_directories(${SFML_INCLUDE_DIR})
add_executable(tests test_default_allocator.cpp test_counting_allocator.cpp test_dynamic_array.cpp test_map.cpp test_stack_guard.cpp ../src/engine/data/json_value.cpp ../src/engine/data/json_parser.cpp test_json_parser.cpp ../src/engine/input/input.cpp test_input.cpp ../src/engine/rendering/renderable_sprite.cpp test_renderable_sprite.cpp ../src/engine/rendering/renderer.cpp tests.cpp)
target_link_libraries(tests gtest gtest_main)
target_link_libraries(tests ${CMAKE_THREAD_LIBS_INIT})
target_link_libraries(tests ${SFML_LIBRARIES})

project(test_renderer)
set(CMAKE_MODULE_PATH "." ${CMAKE_MODULE_PATH})
find_package(SFML 2.1.0 REQUIRED system window graphics network audio)
include_directories(${SFML_INCLUDE_DIR})
add_executable(test_renderer ../src/engine/data/json_value.cpp ../src/engine/data/json_parser.cpp ../src/engine/input/input.cpp ../src/engine/rendering/renderable_sprite.cpp ../src/engine/rendering/renderer.cpp test_renderer.cpp)
target_link_libraries(test_renderer ${CMAKE_THREAD_LIBS_INIT})
target_link_libraries(test_renderer ${SFML_LIBRARIES})
